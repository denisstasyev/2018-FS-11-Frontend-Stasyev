{"version":3,"sources":["components/SentryErrorLogger/SentryErrorLogger.js","components/Header/Header.js","components/Auth/Input/Input.js","store/actions/auth.js","store/actionTypes/actionTypes.js","components/Auth/Auth.js","components/ChatList/ChatList.js","utils/index.js","components/Chat/reactionTypes/index.js","components/Chat/MessageList/Message/Message.js","components/Chat/MessageList/MessageList.js","components/Chat/ExtrasPanel/FileButton/FileButton.js","components/Chat/ExtrasPanel/LocationButton/LocationButton.js","components/Chat/ExtrasPanel/ReactionButton/ReactionButton.js","components/Chat/ExtrasPanel/ExtrasPanel.js","components/Chat/MessageForm/ExtrasButton/ExtrasButton.js","components/Chat/MessageForm/TextMessageForm/TextMessageForm.js","components/Chat/MessageForm/SendButton/SendButton.js","components/Chat/MessageForm/MessageForm.js","components/Chat/sharedWorker.js","components/Chat/Chat.js","push-notification.js","App.js","store/reducers/messageForm.js","store/reducers/messageList.js","store/reducers/user.js","store/reducers/chatList.js","store/reducers/auth.js","index.js","components/Chat/MessageList/Message/styles.module.css","components/Chat/ExtrasPanel/FileButton/styles.module.css","components/Header/styles.module.css","components/ChatList/styles.module.css","components/Chat/ExtrasPanel/styles.module.css","components/Chat/MessageForm/TextMessageForm/styles.module.css","components/Chat/MessageForm/SendButton/styles.module.css","components/Chat/styles.module.css","components/Chat/MessageList/styles.module.css","static/Chat/MessageForm/FileButton/paperclip.svg","components/Chat/ExtrasPanel/LocationButton/styles.module.css","components/Chat/ExtrasPanel/ReactionButton/styles.module.css","components/Chat/MessageForm/styles.module.css","components/Chat/MessageForm/ExtrasButton/styles.module.css"],"names":["Sentry","dsn","SentryErrorLogger","state","error","eventId","errorInfo","_this2","this","setState","scope","setExtras","_this3","react_default","a","createElement","onClick","React","PureComponent","Header","className","styles","Link","to","input","props","inputElement","inputElementClasses","classes","InputElement","invalid","touched","push","Invalid","elementType","Object","assign","join","value","onChange","changed","elementConfig","placeholder","Input","Label","label","authSuccess","token","type","Auth","loginForm","login","valid","validation","isRequired","minLength","password","handleFormConfirm","event","preventDefault","result","keys","_this","reduce","res","key","console","log","onAuth","checkValidity","rule","isValid","trim","length","handleInput","newFormData","objectSpread","inputData","target","some","inputs","map","element","Input_Input","redirect","Redirect","onSubmit","e","disabled","Component","connect","auth","dispatch","axios","post","then","response","localStorage","setItem","data","catch","actions","ChatList","getTime","Date","toTimeString","match","sendToServer","text","file","formData","FormData","append","concat","toDateString","fetch","method","body","reactionTypesList","name","imagePattern","Message","sanitize","string","&","<",">","\"","'","`","/","replace","preventXSSAttack","handleReaction","reactionTypeList","forEach","reaction","indexOf","__html","isMy","src","URL","createObjectURL","alt","href","dangerouslySetInnerHTML","time","size","units","newSize","item","Math","ceil","getReadableSize","MessageList","scrollToBottom","messagesContainer","ReactDOM","findDOMNode","assertThisInitialized","scrollTop","scrollHeight","handleDragAndDrop","Array","from","dataTransfer","files","reader","FileReader","onload","handleFileSelect","onMessage","readAsDataURL","onDrop","onDragEnter","onDragOver","onDragLeave","messageList","message","idx","MessageList_Message_Message","get","messageListReducer","FileButton","onFileSelect","htmlFor","ImageFileButton","id","multiple","LocationButton","sendMyLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","handleTextSelect","bind","alert","ReactionButton","sendReaction","handleSendText","updateText","handleUpdateText","onDoubleClick","ExtrasPanel","isExtrasPanelVisible","ExtrasPanel_FileButton_FileButton","ExtrasPanel_LocationButton_LocationButton","ExtrasPanel_ReactionButton_ReactionButton","messageFormReducer","ExtrasButton","handleOnClick","TextMessageForm","handleRewriteText","SendButton","handleSubmit","MessageForm","MessageForm_ExtrasButton_ExtrasButton","MessageForm_TextMessageForm_TextMessageForm","MessageForm_SendButton_SendButton","sharedWorker","self","ports","addEventListener","port","source","splice","filter","postMessage","start","Chat","worker","getSharedWorker","onWorkerMessage","Chat_MessageList_MessageList","Chat_ExtrasPanel_ExtrasPanel","Chat_MessageForm_MessageForm","workerFile","Blob","workerCode","Promise","rej","SharedWorker","window","firebase","initializeApp","messagingSenderId","messaging","askForPermissioToReceiveNotifications","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","requestPermission","getToken","sent","abrupt","t0","stop","apply","arguments","App","info","BrowserRouter","react","components_Header_Header","Switch","Route","exact","path","component","components_SentryErrorLogger_SentryErrorLogger","initialState","Map","reducer","undefined","action","set","i","List","fromJS","user","isAuthorized","chatList","loading","authStart","authFail","rootReducer","combineReducers","userReducer","chatListReducer","authReducer","store","createStore","render","es","src_App","document","getElementById","module","exports","message--my","appear--my","message--alien","appear--alien","image-preview","text--my","text--alien","extras","extras--my","extras--alien","size--my","size--alien","send-time--my","send-time--alien","reaction-preview","reaction-inline","alien","alien-monster","angry-face","anguished-face","anxious-face-with-sweat","astonished-face","beaming-face-with-smiling-eyes","cold-face","confounded-face","confused-face","cowboy-hat-face","crying-face","disappointed-face","dizzy-face","downcast-face-with-sweat","file-button","file-button__label","file-button__input","file-button__image","file-button_image","header","home-button","login-button","chat-list","chat-list__chat","extras-panel","extras-panel__actions","extras-panel__reactions","text-message-form","text-message-form__input","send-button","hidden","chat","message-list","__webpack_require__","p","location-button","reaction-button","message-form","extras-button","pulse"],"mappings":"6OAGAA,IAAY,CACVC,IAAK,mEAiCQC,6MA7BbC,MAAQ,CAAEC,MAAO,KAAMC,QAAS,uFAEdD,EAAOE,GAAW,IAAAC,EAAAC,KAClCA,KAAKC,SAAS,CAAEL,UAChBJ,IAAiB,SAAAU,GACfA,EAAMC,UAAUL,GAChB,IAAMD,EAAUL,IAAwBI,GACxCG,EAAKE,SAAS,CAAEJ,+CAIX,IAAAO,EAAAJ,KACP,OAAIA,KAAKL,MAAMC,MAGXS,EAAAC,EAAAC,cAAA,OACEC,QAAS,kBACPhB,IAAwB,CAAEK,QAASO,EAAKT,MAAME,YAFlD,mBASK,YAzBmBY,IAAMC,yCCUvBC,mLAXX,OACEN,EAAAC,EAAAC,cAAA,UAAQK,UAAWC,IAAM,QACvBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMF,UAAWC,IAAO,eAAgBE,GAAG,MAC3CV,EAAAC,EAAAC,cAAA,UAAQK,UAAWC,IAAO,iBACxBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMC,GAAG,UAAT,kBANWN,IAAMC,wCCwCZM,EAzCD,SAAAC,GACZ,IAAIC,EACAC,EAAsB,CAACC,IAAQC,cAMnC,OAJIJ,EAAMK,SAAWL,EAAMM,SACzBJ,EAAoBK,KAAKJ,IAAQK,SAG3BR,EAAMS,aACZ,IAAK,QACHR,EACEb,EAAAC,EAAAC,cAAA,QAAAoB,OAAAC,OAAA,CACEhB,UAAWO,EAAoBU,KAAK,KACpCC,MAAOb,EAAMa,MACbC,SAAUd,EAAMe,SACZf,EAAMgB,gBAGd,MACF,IAAK,WACHf,EAAeb,EAAAC,EAAAC,cAAA,YAAU2B,YAAajB,EAAMiB,cAC5C,MACF,QACEhB,EACEb,EAAAC,EAAAC,cAAA,QAAAoB,OAAAC,OAAA,CACEhB,UAAWO,EAAoBU,KAAK,KACpCC,MAAOb,EAAMa,MACbC,SAAUd,EAAMe,SACZf,EAAMgB,gBAKlB,OACE5B,EAAAC,EAAAC,cAAA,OAAKK,UAAWQ,IAAQe,OACtB9B,EAAAC,EAAAC,cAAA,OAAKK,UAAWQ,IAAQgB,OAAxB,IAAiCnB,EAAMoB,MAAvC,KACCnB,qBC9BMoB,EAAc,SAAAC,GACzB,MAAO,CACLC,KCVwB,eDWxBD,mBEJEE,oNACJ9C,MAAQ,CACN+C,UAAW,CACTC,MAAO,CACLjB,YAAa,QACbO,cAAe,CACbO,KAAM,OACNN,YAAa,SAEfJ,MAAO,GACPc,OAAO,EACPrB,SAAS,EACTsB,WAAY,CACVC,YAAY,EACZC,UAAW,IAGfC,SAAU,CACRtB,YAAa,QACbI,MAAO,GACPG,cAAe,CACbO,KAAM,WACNN,YAAa,YAEfX,SAAS,EACTqB,OAAO,EACPC,WAAY,CACVC,YAAY,KAIlBF,OAAO,KAGTK,kBAAoB,SAAAC,GAClBA,EAAMC,iBACN,IAAMC,EAASzB,OAAO0B,KAAKC,EAAK3D,MAAM+C,WAAWa,OAAO,SAACC,EAAKC,GAE5D,OADAD,EAAIC,GAAOH,EAAK3D,MAAM+C,UAAUe,GAAK3B,MAC9B0B,GACN,IACHE,QAAQC,IAAI,sBACZD,QAAQC,IAAIP,GACZE,EAAKrC,MAAM2C,OAAOR,EAAOT,MAAOS,EAAOJ,UACvCU,QAAQC,IAAI,WAGdE,cAAgB,SAAC/B,EAAOgC,GACtB,IAAIC,GAAU,EAOd,OANID,EAAKhB,aACPiB,EAA2B,KAAjBjC,EAAMkC,QAEdF,EAAKf,YACPgB,EAAUjC,EAAMkC,OAAOC,QAAUH,EAAKf,WAAagB,GAE9CA,KAGTG,YAAc,SAAChB,EAAOO,GACpB,IAAMU,EAAWxC,OAAAyC,EAAA,EAAAzC,CAAA,GACZ2B,EAAK3D,MAAM+C,WAEV2B,EAAS1C,OAAAyC,EAAA,EAAAzC,CAAA,GACV2B,EAAK3D,MAAM+C,UAAUe,IAG1BY,EAAU9C,SAAU,EACpB8C,EAAUvC,MAAQoB,EAAMoB,OAAOxC,MAC/BuC,EAAUzB,MAAQU,EAAKO,cAAcQ,EAAUvC,MAAOuC,EAAUxB,YAEhE,IAAMvB,EAAUK,OAAO0B,KAAKc,GAAaI,KAAK,SAAAd,GAC5C,OAAQU,EAAYV,GAAKb,QAG3BuB,EAAYV,GAAOY,EACnBf,EAAKrD,SAAS,CACZyC,UAAWyB,EACXvB,OAAQtB,6EAIH,IAAAvB,EAAAC,KACDwE,EAAS7C,OAAO0B,KAAKrD,KAAKL,MAAM+C,WAAW+B,IAAI,SAAAhB,GACnD,IAAMiB,EAAU3E,EAAKJ,MAAM+C,UAAUe,GACrC,OACEpD,EAAAC,EAAAC,cAACoE,EAAD,CACElB,IAAKA,EACL/B,YAAagD,EAAQhD,YACrBO,cAAeyC,EAAQzC,cACvBH,MAAO4C,EAAQ5C,MACfc,MAAO8B,EAAQ9B,MACfrB,QAASmD,EAAQnD,QACjBD,SAAUoD,EAAQ9B,MAClBZ,QAAS,SAAAkB,GAAK,OAAInD,EAAKmE,YAAYhB,EAAOO,QAK5CmB,EAAW,KASf,OARI5E,KAAKiB,MAAMsB,QACbmB,QAAQC,IAAI,sBACZiB,EAAWvE,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAU9D,GAAG,YAGtBf,KAAKiB,MAAMrB,MAIbS,EAAAC,EAAAC,cAAA,QAAMuE,SAAU,SAAAC,GAAC,OAAIhF,EAAKkD,kBAAkB8B,KACzCP,EACDnE,EAAAC,EAAAC,cAAA,UACEyE,UAAWhF,KAAKL,MAAMiD,MACtBJ,KAAK,SACL5B,UAAU,eAHZ,UAOCZ,KAAKiB,MAAMsB,MACXqC,UArHUK,cAuIJC,cAZS,SAAAvF,GACtB,MAAO,CACL4C,MAAO5C,EAAMwF,KAAK5C,QAIK,SAAA6C,GACzB,MAAO,CACLxB,OAAQ,SAACjB,EAAOK,GAAR,OAAqBoC,EFpHb,SAACzC,EAAOK,GAC1B,OAAO,SAAAoC,GACL1B,QAAQC,IAAI,QACZyB,EAtBK,CACL5C,KCLsB,eD2BtB6C,IACGC,KAAK,QAAS,CAAE3C,QAAOK,aACvBuC,KAAK,SAAAC,GACJ9B,QAAQC,IAAI6B,GACZC,aAAaC,QAAQ,QAASF,EAASG,KAAKpD,OAC5C6C,EAAS9C,EAAYkD,EAASG,KAAKpD,UAEpCqD,MAAM,SAAAhG,GACLwF,EAlBC,CACL5C,KChBuB,cDiBvB5C,MAgBwBA,OEwGciG,CAAalD,EAAOK,OAI/CkC,CAGbzC,oBC/HaqD,mLAbX,OACEzF,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,IAAO,cACrBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMF,UAAWC,IAAO,mBAAoBE,GAAG,WAA/C,SAGAV,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMF,UAAWC,IAAO,mBAAoBE,GAAG,WAA/C,iBAPeN,IAAMC,0ECQhBqF,EAAU,WAGrB,OAFW,IAAIC,MAEHC,eAAeC,MADX,sDAC4B,IAGjCC,EAAe,SAACC,EAAMC,GACjC,IAAIC,EAAW,IAAIC,SAUnB,OATAD,EAASE,OAAO,OAAQ,SACxBF,EAASE,OAAO,OAAhB,GAAAC,OAA2BV,IAA3B,KAAAU,QAAwC,IAAIT,MAAOU,iBACtC,OAATL,GACFC,EAASE,OAAO,OAAQH,GAEb,OAATD,GACFE,EAASE,OAAO,OAAQJ,GAGnBO,MAAM,gCAAiC,CAC5CC,OAAQ,OACRC,KAAMP,IAELf,KAAK,SAASC,GACb,OAAOA,IAERI,MAAM,SAAShG,GACd8D,QAAQC,IAAI/D,MC0BHkH,EA/DW,CACxB,CACEC,KAAM,QACNX,KAAM,WAER,CACEW,KAAM,gBACNX,KAAM,mBAER,CACEW,KAAM,aACNX,KAAM,WAER,CACEW,KAAM,iBACNX,KAAM,eAER,CACEW,KAAM,0BACNX,KAAM,gBAER,CACEW,KAAM,kBACNX,KAAM,gBAER,CACEW,KAAM,iCACNX,KAAM,UAER,CACEW,KAAM,YACNX,KAAM,eAER,CACEW,KAAM,kBACNX,KAAM,gBAER,CACEW,KAAM,gBACNX,KAAM,cAER,CACEW,KAAM,kBACNX,KAAM,qBAER,CACEW,KAAM,cACNX,KAAM,SAER,CACEW,KAAM,oBACNX,KAAM,kBAER,CACEW,KAAM,aACNX,KAAM,gBAER,CACEW,KAAM,2BACNX,KAAM,YCnDJY,EAAe,YAqGNC,6MAlGbC,SAAW,SAAAC,GACT,IAAM1C,EAAM,CACV2C,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,SACLC,IAAK,UACLC,IAAK,UAGP,OAAOP,EAAOQ,QADF,eACe,SAAAzB,GAAK,OAAIzB,EAAIyB,QAG1C0B,iBAAmB,SAAAxB,GACjB,OAAO9C,EAAK4D,SAASd,MAGvByB,eAAiB,SAAAzB,GACf,IAAIhD,EAASgD,EAmBb,OAlBAhD,EAASE,EAAKsE,iBAAiBxE,GAC/B0E,EAAiBC,QAAQ,SAAAC,GAOvB,IANI5B,IAAS4B,EAAS5B,OACpBhD,EAAM,oBAAAqD,OAAuB,CAC3B5F,IAAO,oBACPA,IAAOmH,EAASjB,OAChBlF,KAAK,KAHD,UAKkC,IAAnCuB,EAAO6E,QAAQD,EAAS5B,OAC7BhD,EAASA,EAAOuE,QACdK,EAAS5B,KADF,oBAAAK,OAEa,CAClB5F,IAAO,mBACPA,IAAOmH,EAASjB,OAChBlF,KAAK,KALA,WASN,CAAEqG,OAAQ9E,4EAIjB,OACE/C,EAAAC,EAAAC,cAAA,OACEK,UACEZ,KAAKiB,MAAMkH,KAAOtH,IAAO,eAAiBA,IAAO,mBAGlDb,KAAKiB,MAAMoF,KACVrG,KAAKiB,MAAMoF,KAAK7D,KAAK0D,MAAMc,GACzB3G,EAAAC,EAAAC,cAAA,OACEK,UAAWC,IAAO,iBAClBuH,IAAKC,IAAIC,gBAAgBtI,KAAKiB,MAAMoF,MACpCkC,IAAI,kBAGNlI,EAAAC,EAAAC,cAAA,KAAGiI,KAAMH,IAAIC,gBAAgBtI,KAAKiB,MAAMoF,OACrCrG,KAAKiB,MAAMoF,KAAKU,MAIrB1G,EAAAC,EAAAC,cAAA,OACEK,UACEZ,KAAKiB,MAAMkH,KAAOtH,IAAO,YAAcA,IAAO,eAEhD4H,wBAAyBzI,KAAK6H,eAAe7H,KAAKiB,MAAMmF,QAI5D/F,EAAAC,EAAAC,cAAA,OACEK,UACEZ,KAAKiB,MAAMkH,KAAOtH,IAAO,cAAgBA,IAAO,iBAGlDR,EAAAC,EAAAC,cAAA,OACEK,UACEZ,KAAKiB,MAAMkH,KACPtH,IAAO,iBACPA,IAAO,qBAGZb,KAAKiB,MAAMyH,MAEb1I,KAAKiB,MAAMoF,KACVhG,EAAAC,EAAAC,cAAA,OACEK,UACEZ,KAAKiB,MAAMkH,KAAOtH,IAAO,YAAcA,IAAO,gBFjG/B,SAAA8H,GAC7B,IAAMC,EAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,MACxCC,EAAUF,EACd,IAAK,IAAMG,KAAQF,EAAO,CACxB,GAAIC,EAAU,KACZ,SAAApC,OAAUsC,KAAKC,KAAKH,GAApB,KAAApC,OAAgCmC,EAAME,IAExCD,GAAW,KAEb,SAAApC,OAAUsC,KAAKC,KAAKL,GAApB,ME2FaM,CAAgBjJ,KAAKiB,MAAMoF,KAAKsC,OAEjC,cA5FQlI,IAAMC,eCDtBwI,6MACJC,eAAiB,WACf,IAAMC,EAAoBC,IAASC,YAAT3H,OAAA4H,EAAA,EAAA5H,QAAA4H,EAAA,EAAA5H,CAAA2B,KAC1B8F,EAAkBI,UAAYJ,EAAkBK,gBAWlDC,kBAAoB,SAAAxG,GAClBA,EAAMC,iBACMwG,MAAMC,KAAK1G,EAAM2G,aAAaC,OAEpC/B,QAAQ,SAAA1B,GACZ,IAAM0D,EAAS,IAAIC,WACnBD,EAAOE,OAAS,WACd3G,EAAKrC,MAAMiJ,iBAAiB7D,GAC5B/C,EAAKrC,MAAMkJ,UAAU,CAAC,KAAM9D,KAG9B0D,EAAOK,cAAc/D,IAPvB1E,OAAA4H,EAAA,EAAA5H,QAAA4H,EAAA,EAAA5H,CAAA2B,yFAXAtD,KAAKmJ,8DAILnJ,KAAKmJ,kDAmBL,OACE9I,EAAAC,EAAAC,cAAA,OACEK,UAAWC,IAAO,gBAClBwJ,OAAQrK,KAAK0J,kBACbY,YAAatK,KAAK0J,kBAClBa,WAAYvK,KAAK0J,kBACjBc,YAAaxK,KAAK0J,mBAEjB1J,KAAKiB,MAAMwJ,YAAYhG,IAAI,SAACiG,EAASC,GACpC,OACEtK,EAAAC,EAAAC,cAACqK,EAAD,CACEnH,IAAKkH,EACLvE,KAAMsE,EAAQG,IAAI,QAClBxE,KAAMqE,EAAQG,IAAI,QAClB1C,KAAMuC,EAAQG,IAAI,QAClBnC,KAAMgC,EAAQG,IAAI,oBA7CNpK,IAAMC,eAkEjBwE,cAZS,SAAAvF,GAAK,MAAK,CAChC8K,YAAa9K,EAAMmL,mBAAmBD,IAAI,iBAGjB,SAAAzF,GAAQ,MAAK,CACtC8E,iBAAkB,SAAA7D,GAAI,OACpBjB,EAAS,CACP5C,KNhEmB,YMiEnB6D,YAISnB,CAGbgE,0DCtEI6B,8MACJC,aAAe,SAAA9H,GACbA,EAAMC,iBACMwG,MAAMC,KAAK1G,EAAMoB,OAAOwF,OAE9B/B,QAAQ,SAAA1B,GACZ,IAAM0D,EAAS,IAAIC,WACnBD,EAAOE,OAAS,WACd3G,EAAKrC,MAAMiJ,iBAAiB7D,GAC5B/C,EAAKrC,MAAMkJ,UAAU,CAAC,KAAM9D,KAG9B0D,EAAOK,cAAc/D,IAPvB1E,OAAA4H,EAAA,EAAA5H,QAAA4H,EAAA,EAAA5H,CAAA2B,8EAYA,OACEjD,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,KAAO,gBACrBR,EAAAC,EAAAC,cAAA,SACEK,UAAWC,KAAO,sBAClBoK,QAAQ,sBAER5K,EAAAC,EAAAC,cAAA,OACEK,UAAWC,KAAO,sBAClBuH,IAAK8C,KACL3C,IAAI,iBAGRlI,EAAAC,EAAAC,cAAA,SACEK,UAAWC,KAAO,sBAClBsK,GAAG,qBACH3I,KAAK,OACLT,SAAU/B,KAAKgL,aACfI,UAAQ,YAlCO3K,IAAMwE,WAiDhBC,eACb,KATyB,SAAAE,GAAQ,MAAK,CACtC8E,iBAAkB,SAAA7D,GAAI,OACpBjB,EAAS,CACP5C,KP9CmB,YO+CnB6D,YAISnB,CAGb6F,wBCtDIM,8MACJC,eAAiB,WACVC,UAAUC,YAgBfD,UAAUC,YAAYC,mBAXtB,SAAiBC,GACf,IAAItF,EAAI,iBAAAK,OAAoBiF,EAASC,OAAOC,SAApC,MAAAnF,OACNiF,EAASC,OAAOE,UADV,KAGR7L,KAAKiB,MAAM6K,iBAAiB1F,GAC5BpG,KAAKiB,MAAMkJ,UAAU,CAAC/D,EAAM,QAMmB2F,KAARpK,OAAA4H,EAAA,EAAA5H,QAAA4H,EAAA,EAAA5H,CAAA2B,KAJzC,WACE0I,MAAM,uCAZNA,MAAM,0HAmBR,OACE3L,EAAAC,EAAAC,cAAA,UACEK,UAAWC,KAAO,mBAClBL,QAASR,KAAKsL,wBAzBO7K,IAAMwE,WAmCpBC,eACb,KALyB,SAAAE,GAAQ,MAAK,CACtC0G,iBAAkB,SAAA1F,GAAI,OAAIhB,EAAS,CAAE5C,KRlCd,YQkC2C4D,YAGrDlB,CAGbmG,wBCtCIY,8MACJC,aAAe,WACb5I,EAAKrC,MAAMkL,eAAe7I,EAAKrC,MAAMmF,MACrC9C,EAAKrC,MAAMkJ,UAAU,CAAC7G,EAAKrC,MAAMmF,KAAM,UAGzCgG,WAAa,WACX9I,EAAKrC,MAAMoL,iBAAiB/I,EAAKrC,MAAMmF,+EAIvC,OACE/F,EAAAC,EAAAC,cAAA,QACEK,UAAWC,KAAOb,KAAKiB,MAAM8F,MAC7BvG,QAASR,KAAKoM,WACdE,cAAetM,KAAKkM,sBAfCzL,IAAMwE,WA0BpBC,eACb,KANyB,SAAAE,GAAQ,MAAK,CACtC+G,eAAgB,SAAA/F,GAAI,OAAIhB,EAAS,CAAE5C,KTxBZ,YSwByC4D,UAChEiG,iBAAkB,SAAAjG,GAAI,OAAIhB,EAAS,CAAE5C,KTtBZ,cSsB2C4D,YAGvDlB,CAGb+G,ICzBIM,oLACK,IAAAjJ,EAAAtD,KACP,OAAIA,KAAKiB,MAAMuL,qBAEXnM,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,IAAO,iBACrBR,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,IAAO,0BACrBR,EAAAC,EAAAC,cAACkM,GAAD,CAAYtC,UAAWnK,KAAKiB,MAAMkJ,YAClC9J,EAAAC,EAAAC,cAACmM,GAAD,CAAgBvC,UAAWnK,KAAKiB,MAAMkJ,aAExC9J,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,IAAO,4BACpBiH,EAAiBrD,IAAI,SAACuD,EAAU2C,GAAX,OACpBtK,EAAAC,EAAAC,cAACoM,GAAD,CACElJ,IAAG,GAAAgD,OAAKuB,EAASjB,KAAd,KAAAN,OAAsBkE,GACzB5D,KAAMiB,EAASjB,KACfX,KAAM4B,EAAS5B,KACf+D,UAAW7G,EAAKrC,MAAMkJ,gBAMtB,YArBU1J,IAAMwE,WA6BjBC,eAJS,SAAAvF,GAAK,MAAK,CAChC6M,qBAAsB7M,EAAMiN,mBAAmB/B,IAAI,0BAKnD,KAFa3F,CAGbqH,4CCpCIM,oLAEF,OACExM,EAAAC,EAAAC,cAAA,UACEK,UAAWC,KAAO,iBAClBL,QAASR,KAAKiB,MAAM6L,uBALDrM,IAAMC,eAelBwE,eACb,KALyB,SAAAE,GAAQ,MAAK,CACtC0H,cAAe,kBAAM1H,EAAS,CAAE5C,KXTL,qBWYd0C,CAGb2H,wBClBIE,8MACJhL,SAAW,SAAAmB,GACTA,EAAMC,iBACNG,EAAKrC,MAAM+L,kBAAkB9J,EAAMoB,OAAOxC,UAG5CgD,SAAW,SAAA5B,GACTA,EAAMC,iBACFG,EAAKrC,MAAMmF,KAAKnC,OAAS,IAC3BX,EAAKrC,MAAMkL,eAAe7I,EAAKrC,MAAMmF,MACrC9C,EAAKrC,MAAMkJ,UAAU,CAAC7G,EAAKrC,MAAMmF,KAAM,iFAKzC,OACE/F,EAAAC,EAAAC,cAAA,QAAMK,UAAWC,KAAO,qBAAsBiE,SAAU9E,KAAK8E,UAC3DzE,EAAAC,EAAAC,cAAA,SACEK,UAAWC,KAAO,4BAClBiB,MAAO9B,KAAKiB,MAAMmF,KAClB5D,KAAK,OACLN,YAAY,qBACZH,SAAU/B,KAAK+B,mBAtBKtB,IAAMC,eA8CrBwE,eAjBS,SAAAvF,GAAK,MAAK,CAChCyG,KAAMzG,EAAMiN,mBAAmB/B,IAAI,UAGV,SAAAzF,GAAQ,MAAK,CACtC4H,kBAAmB,SAAA5G,GAAI,OACrBhB,EAAS,CACP5C,KZlCsB,eYmCtB4D,UAEJ+F,eAAgB,SAAA/F,GAAI,OAClBhB,EAAS,CACP5C,KZ3CmB,YY4CnB4D,YAISlB,CAGb6H,wBCjDIE,8MACJnI,SAAW,SAAA5B,GACTA,EAAMC,iBACNG,EAAKrC,MAAMiM,aAAa5J,EAAKrC,MAAMmF,MACnC9C,EAAKrC,MAAMkJ,UAAU,CAAC7G,EAAKrC,MAAMmF,KAAM,gFAIvC,OACE/F,EAAAC,EAAAC,cAAA,UACEK,UACEZ,KAAKiB,MAAMmF,KAAKnC,OAAS,EAAIpD,KAAO,eAAiBA,KAAM,OAE7DL,QAASR,KAAK8E,kBAbGrE,IAAMC,eA+BhBwE,eAZS,SAAAvF,GAAK,MAAK,CAChCyG,KAAMzG,EAAMiN,mBAAmB/B,IAAI,UAGV,SAAAzF,GAAQ,MAAK,CACtC8H,aAAc,SAAA9G,GAAI,OAChBhB,EAAS,CACP5C,Kb5BmB,Ya6BnB4D,YAISlB,CAGb+H,ICrBaE,oLAVX,OACE9M,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,KAAO,iBACrBR,EAAAC,EAAAC,cAAC6M,GAAD,MACA/M,EAAAC,EAAAC,cAAC8M,GAAD,CAAiBlD,UAAWnK,KAAKiB,MAAMkJ,YACvC9J,EAAAC,EAAAC,cAAC+M,GAAD,CAAYnD,UAAWnK,KAAKiB,MAAMkJ,oBANhB1J,IAAMC,eCPjB6M,GAAA,SAAAC,GACb,IAAMC,EAAQ,GACdD,EAAKE,iBAAiB,UAAW,SAAAxK,GAC/B,IAAMyK,EAAOzK,EAAM0K,OACnBH,EAAMjM,KAAKmM,GACXA,EAAKD,iBAAiB,UAAW,SAAAxK,GACZ,eAAfA,EAAMyC,KACR8H,EAAMI,OAAOJ,EAAMxF,QAAQ/E,EAAMoB,QAAS,GAE1CmJ,EACGK,OAAO,SAAAH,GAAI,OAAIA,IAASzK,EAAMoB,SAC9ByD,QAAQ,SAAA4F,GACPA,EAAKI,YAAY7K,EAAMyC,UAI/BgI,EAAKK,WC8CMC,8MAnDbtO,MAAQ,CACNuO,OAAQ5K,EAAK6K,qBAafhE,UAAY,SAAAO,GACVpH,EAAK3D,MAAMuO,OAAO3I,KAAK,SAAA2I,GACrBA,EAAOP,KAAKI,YAAYrD,QAwB5B0D,gBAAkB,SAAAlL,GAChBiD,EAAajD,EAAMyC,KAAK,GAAIzC,EAAMyC,KAAK,IAAIJ,KAAK,SAAAC,GAC1CA,EACF9B,QAAQC,IAAI,cAEZD,QAAQC,IAAI,6FAxChB,OACEtD,EAAAC,EAAAC,cAAA,OAAKK,UAAWC,IAAM,MACpBR,EAAAC,EAAAC,cAAC8N,EAAD,CAAalE,UAAWnK,KAAKmK,YAC7B9J,EAAAC,EAAAC,cAAC+N,GAAD,CAAanE,UAAWnK,KAAKmK,YAC7B9J,EAAAC,EAAAC,cAACgO,GAAD,CAAapE,UAAWnK,KAAKmK,uDAWjB,IAAApK,EAAAC,KACVwO,EAAa,IAAIC,KAAK,KAAAhI,OAAKiI,GAAL,YAA2B,CACrDlM,KAAM,oBAER,OAAO,IAAImM,QAAQ,SAACnL,EAAKoL,GACvB,IAAM7E,EAAS,IAAIC,WACnBD,EAAO2D,iBAAiB,UAAW,SAAAxK,GACjC,IAAMgL,EAAS,IAAIW,aAAa3L,EAAMoB,OAAOlB,QAC7C8K,EAAOP,KAAKD,iBAAiB,UAAW3N,EAAKqO,iBAC7CF,EAAOP,KAAKK,QACZc,OAAOpB,iBAAiB,eAAgB,WACtCQ,EAAOP,KAAKI,YAAY,gBAE1BvK,EAAI0K,KAENnE,EAAO2D,iBAAiB,QAASkB,GACjC7E,EAAOK,cAAcoE,YArCR/N,IAAMC,gECLzBqO,KAASC,cAHI,CACXC,kBAAmB,iBAIrB,IAAMC,GAAYH,KAASG,YAEdC,GAAqC,eAAAC,EAAAzN,OAAA0N,GAAA,EAAA1N,CAAA2N,GAAAhP,EAAAiP,KAAG,SAAAC,IAAA,IAAAjN,EAAA,OAAA+M,GAAAhP,EAAAmP,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE3CV,GAAUW,oBAFiC,cAAAH,EAAAE,KAAA,EAG7BV,GAAUY,WAHmB,cAG3CvN,EAH2CmN,EAAAK,KAIjDrM,QAAQC,IAAI,cAAepB,GAJsBmN,EAAAM,OAAA,SAK1CzN,GAL0C,QAAAmN,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAOjDhM,QAAQ9D,MAAR8P,EAAAO,IAPiD,yBAAAP,EAAAQ,SAAAV,EAAA,kBAAH,yBAAAJ,EAAAe,MAAAnQ,KAAAoQ,YAAA,GC0BnCC,+LAtBXlB,KACAzL,QAAQ4M,KAAR,2FAIA,OACEjQ,EAAAC,EAAAC,cAACgQ,EAAA,EAAD,KACElQ,EAAAC,EAAAC,cAACiQ,EAAA,SAAD,KACEnQ,EAAAC,EAAAC,cAACkQ,EAAD,MACApQ,EAAAC,EAAAC,cAACmQ,EAAA,EAAD,KACErQ,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWhL,IACjCzF,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CAAOE,KAAK,YAAYC,UAAW7C,KACnC5N,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CAAOE,KAAK,SAASC,UAAWrO,KAGlCpC,EAAAC,EAAAC,cAACwQ,EAAD,eAjBQrQ,0BCPZsQ,GAAeC,aAAI,CACvB7K,KAAM,GACNC,KAAM,GACNmG,sBAAsB,IAiCT0E,GA9BC,WAAkC,IAAjCvR,EAAiCyQ,UAAAnM,OAAA,QAAAkN,IAAAf,UAAA,GAAAA,UAAA,GAAzBY,GAAcI,EAAWhB,UAAAnM,OAAA,EAAAmM,UAAA,QAAAe,EAEhD,OAAQC,EAAO5O,MACb,InBTqB,YmBUnB,OAAOwO,GACT,InBTqB,YmBUnB,OAAOA,GAAaK,IAAI,OAAQ1R,EAAMkL,IAAI,SAC5C,InBVuB,cmBWrB,OAAOoG,aAAI,CACT7K,KAAMzG,EAAMkL,IAAI,QAAUuG,EAAOhL,KACjCC,KAAM1G,EAAMkL,IAAI,QAChB2B,qBAAsB7M,EAAMkL,IAAI,0BAEpC,InBfwB,emBgBtB,OAAOoG,aAAI,CACT7K,KAAMgL,EAAOhL,KACbC,KAAM1G,EAAMkL,IAAI,QAChB2B,qBAAsB7M,EAAMkL,IAAI,0BAEpC,InBpByB,gBmBqBvB,OAAOoG,aAAI,CACT7K,KAAMzG,EAAMkL,IAAI,QAChBxE,KAAM1G,EAAMkL,IAAI,QAChB2B,sBAAuB7M,EAAMkL,IAAI,0BAIvC,OAAOlL,GC/BHqR,GAAeC,aAAI,CACvBK,EAAG,EACH7G,YAAa8G,aAAK,CAChBN,aAAI,CACF9F,GAAI,EACJ/E,KAAM,SACNC,KAAM,GACN8B,MAAM,EACNO,KAAM3C,UAkEGmL,GA7DC,WAAkC,IAAjCvR,EAAiCyQ,UAAAnM,OAAA,QAAAkN,IAAAf,UAAA,GAAAA,UAAA,GAAzBY,GAAcI,EAAWhB,UAAAnM,OAAA,EAAAmM,UAAA,QAAAe,EAEhD,OAAQC,EAAO5O,MACb,IpBlBqB,YoBgCnB,OAAOyO,aAAI,CACTK,EAAG3R,EAAMkL,IAAI,KAAO,EACpBJ,YAAa9K,EAAMkL,IAAI,eAAerJ,KACpCyP,aAAI,CACF9F,GAAIxL,EAAMkL,IAAI,KACdzE,KAAMgL,EAAOhL,KACbC,KAAM,GACN8B,MAAM,EACNO,KAAM3C,SAKd,IpB3CqB,YoByDnB,OAAOkL,aAAI,CACTK,EAAG3R,EAAMkL,IAAI,KAAO,EACpBJ,YAAa9K,EAAMkL,IAAI,eAAerJ,KACpCyP,aAAI,CACF9F,GAAIxL,EAAMkL,IAAI,KACdzE,KAAM,GACNC,KAAM+K,EAAO/K,KACb8B,MAAM,EACNO,KAAM3C,SAMhB,OAAOpG,GC3EHqR,GAAeQ,aAAO,CAC1BC,KAAM,CACJ1K,KAAM,GACN2K,cAAc,KAQHR,GAJC,WAAkC,IAAjCvR,EAAiCyQ,UAAAnM,OAAA,QAAAkN,IAAAf,UAAA,GAAAA,UAAA,GAAzBY,GAAyBZ,UAAAnM,OAAA,GAAAmM,UAAA,GAChD,OAAOzQ,GCRHqR,GAAeQ,aAAO,CAC1BG,SAAU,KAOGT,GAJC,WAAkC,IAAjCvR,EAAiCyQ,UAAAnM,OAAA,QAAAkN,IAAAf,UAAA,GAAAA,UAAA,GAAzBY,GAAyBZ,UAAAnM,OAAA,GAAAmM,UAAA,GAChD,OAAOzQ,GCHHqR,GAAeQ,aAAO,CAC1BjP,MAAO,KACP3C,MAAO,KACPgS,SAAS,IA+BIV,GAbC,WAAkC,IAAjCvR,EAAiCyQ,UAAAnM,OAAA,QAAAkN,IAAAf,UAAA,GAAAA,UAAA,GAAzBY,GAAcI,EAAWhB,UAAAnM,OAAA,EAAAmM,UAAA,QAAAe,EAChD,OAAQC,EAAO5O,MACb,IvB3BsB,auB4BpB,OAlBY,SAAC7C,EAAOyR,GACxB,OAAOzR,EAAM0R,IAAI,WAAW,GAAMA,IAAI,QAAS,MAiBpCQ,CAAUlS,GACnB,IvB5BwB,euB6BtB,OAhBc,SAACA,EAAOyR,GAC1B,OAAOzR,EACJ0R,IAAI,QAASD,EAAO7O,OACpB8O,IAAI,WAAW,GACfA,IAAI,QAAS,MAYL/O,CAAY3C,EAAOyR,GAC5B,IvB7BuB,cuB8BrB,OAXW,SAACzR,EAAOyR,GACvB,OAAOzR,EAAM0R,IAAI,WAAW,GAAOA,IAAI,QAASD,EAAOxR,OAU5CkS,CAASnS,EAAOyR,GACzB,QACE,OAAOzR,IClBPoS,GAAcC,YAAgB,CAClCpF,sBACA9B,sBACAmH,eACAC,mBACA/M,KAAMgN,KAGFC,GAAQC,YAAYN,IAE1B1I,IAASiJ,OACPjS,EAAAC,EAAAC,cAACgS,EAAA,EAAD,CAAUH,MAAOA,IACf/R,EAAAC,EAAAC,cAACiS,GAAD,OAEFC,SAASC,eAAe,6BC7B1BC,EAAAC,QAAA,CAAkBlI,QAAA,wBAAAmI,cAAA,kDAAAC,aAAA,2BAAAC,iBAAA,qDAAAC,gBAAA,8BAAAC,gBAAA,8BAAAC,WAAA,yBAAAC,cAAA,4BAAAC,OAAA,uBAAAC,aAAA,gDAAAC,gBAAA,mDAAAC,WAAA,yBAAAC,cAAA,4BAAAC,gBAAA,8BAAAC,mBAAA,iCAAAC,mBAAA,iCAAAC,kBAAA,gCAAAC,MAAA,0CAAAC,gBAAA,0DAAAC,aAAA,oDAAAC,iBAAA,4DAAAC,0BAAA,8EAAAC,kBAAA,8DAAAC,iCAAA,4FAAAC,YAAA,kDAAAC,kBAAA,8DAAAC,gBAAA,0DAAAC,kBAAA,8DAAAC,cAAA,sDAAAC,oBAAA,kEAAAC,aAAA,oDAAAC,2BAAA,0HCAlBhC,EAAAC,QAAA,CAAkBgC,cAAA,4BAAAC,qBAAA,mCAAAC,qBAAA,mCAAAC,qBAAA,mCAAAC,oBAAA,uDCAlBrC,EAAAC,QAAA,CAAkBqC,OAAA,uBAAAC,cAAA,4BAAAC,eAAA,kDCAlBxC,EAAAC,QAAA,CAAkBwC,YAAA,0BAAAC,kBAAA,qDCAlB1C,EAAAC,QAAA,CAAkB0C,eAAA,6BAAAC,wBAAA,sCAAAC,0BAAA,6DCAlB7C,EAAAC,QAAA,CAAkB6C,oBAAA,kCAAAC,2BAAA,8DCAlB/C,EAAAC,QAAA,CAAkB+C,cAAA,4BAAAC,OAAA,sECAlBjD,EAAAC,QAAA,CAAkBiD,KAAA,0CCAlBlD,EAAAC,QAAA,CAAkBkD,eAAA,kDCDlBnD,EAAAC,QAAiBmD,EAAAC,EAAuB,0DCCxCrD,EAAAC,QAAA,CAAkBqD,kBAAA,qDCAlBtD,EAAAC,QAAA,CAAkBsD,kBAAA,gCAAArC,MAAA,wEAAAC,gBAAA,wFAAAC,aAAA,kFAAAC,iBAAA,0FAAAC,0BAAA,4GAAAC,kBAAA,4FAAAC,iCAAA,0HAAAC,YAAA,gFAAAC,kBAAA,4FAAAC,gBAAA,wFAAAC,kBAAA,4FAAAC,cAAA,oFAAAC,oBAAA,gGAAAC,aAAA,kFAAAC,2BAAA,mICAlBhC,EAAAC,QAAA,CAAkBuD,eAAA,kDCAlBxD,EAAAC,QAAA,CAAkBwD,gBAAA,8BAAAC,MAAA","file":"static/js/main.bcd2be85.chunk.js","sourcesContent":["import React from \"react\";\nimport * as Sentry from \"@sentry/browser\";\n\nSentry.init({\n  dsn: \"https://a040c6c13d9641e291575ac21d943829@sentry.io/1465431\"\n});\n\nclass SentryErrorLogger extends React.PureComponent {\n  state = { error: null, eventId: null };\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({ error });\n    Sentry.withScope(scope => {\n      scope.setExtras(errorInfo);\n      const eventId = Sentry.captureException(error);\n      this.setState({ eventId });\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      //render fallback UI\n      return (\n        <div\n          onClick={() =>\n            Sentry.showReportDialog({ eventId: this.state.eventId })\n          }\n        >\n          Report feedback\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default SentryErrorLogger;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\";\n\nclass Header extends React.PureComponent {\n  render() {\n    return (\n      <header className={styles[\"header\"]}>\n        <Link className={styles[\"home-button\"]} to=\"/\" />\n        <button className={styles[\"login-button\"]}>\n          <Link to=\"/login\">Login</Link>\n        </button>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\nimport classes from \"./Input.css\";\n\nconst input = props => {\n  let inputElement;\n  let inputElementClasses = [classes.InputElement];\n\n  if (props.invalid && props.touched) {\n    inputElementClasses.push(classes.Invalid);\n  }\n\n  switch (props.elementType) {\n    case \"input\":\n      inputElement = (\n        <input\n          className={inputElementClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n          {...props.elementConfig}\n        />\n      );\n      break;\n    case \"textarea\":\n      inputElement = <textarea placeholder={props.placeholder} />;\n      break;\n    default:\n      inputElement = (\n        <input\n          className={inputElementClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n          {...props.elementConfig}\n        />\n      );\n      break;\n  }\n  return (\n    <div className={classes.Input}>\n      <div className={classes.Label}> {props.label} </div>\n      {inputElement}\n    </div>\n  );\n};\n\nexport default input;\n","import * as actionTypes from \"../actionTypes/actionTypes\";\nimport axios from \"axios\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nexport const authSuccess = token => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token\n  };\n};\n\nexport const authFailed = err => {\n  return {\n    type: actionTypes.AUTH_FAILED,\n    error: err\n  };\n};\n\nexport const auth = (login, password) => {\n  return dispatch => {\n    console.log(\"auth\");\n    dispatch(authStart());\n    axios\n      .post(\"/auth\", { login, password })\n      .then(response => {\n        console.log(response);\n        localStorage.setItem(\"token\", response.data.token);\n        dispatch(authSuccess(response.data.token));\n      })\n      .catch(error => {\n        dispatch(authFailed(error));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      dispatch(authSuccess(token));\n    }\n  };\n};\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAILED = \"AUTH_FAILED\";\n\nexport const SEND_TEXT = \"SEND_TEXT\";\nexport const SEND_IMAGE = \"SEND_IMAGE\";\nexport const SEND_FILE = \"SEND_FILE\";\nexport const UPDATE_TEXT = \"UPDATE_TEXT\";\nexport const REWRITE_TEXT = \"REWRITE_TEXT\";\nexport const TOGGLE_EXTRAS = \"TOGGLE_EXTRAS\";\n","import React, { Component } from \"react\";\nimport Input from \"./Input/Input\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./Auth.css\";\n\nclass Auth extends Component {\n  state = {\n    loginForm: {\n      login: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"text\",\n          placeholder: \"Login\"\n        },\n        value: \"\",\n        valid: false,\n        touched: false,\n        validation: {\n          isRequired: true,\n          minLength: 6\n        }\n      },\n      password: {\n        elementType: \"input\",\n        value: \"\",\n        elementConfig: {\n          type: \"password\",\n          placeholder: \"Password\"\n        },\n        touched: false,\n        valid: false,\n        validation: {\n          isRequired: true\n        }\n      }\n    },\n    valid: false\n  };\n\n  handleFormConfirm = event => {\n    event.preventDefault();\n    const result = Object.keys(this.state.loginForm).reduce((res, key) => {\n      res[key] = this.state.loginForm[key].value;\n      return res;\n    }, {});\n    console.log(\"handleFormConfirm:\");\n    console.log(result);\n    this.props.onAuth(result.login, result.password); // dispatch an event (login and pw)\n    console.log(\"here\");\n  };\n\n  checkValidity = (value, rule) => {\n    let isValid = true;\n    if (rule.isRequired) {\n      isValid = value.trim() !== \"\";\n    }\n    if (rule.minLength) {\n      isValid = value.trim().length >= rule.minLength && isValid;\n    }\n    return isValid;\n  };\n\n  handleInput = (event, key) => {\n    const newFormData = {\n      ...this.state.loginForm\n    };\n    const inputData = {\n      ...this.state.loginForm[key]\n    };\n\n    inputData.touched = true;\n    inputData.value = event.target.value;\n    inputData.valid = this.checkValidity(inputData.value, inputData.validation);\n\n    const invalid = Object.keys(newFormData).some(key => {\n      return !newFormData[key].valid;\n    });\n\n    newFormData[key] = inputData;\n    this.setState({\n      loginForm: newFormData,\n      valid: !invalid\n    });\n  };\n\n  render() {\n    const inputs = Object.keys(this.state.loginForm).map(key => {\n      const element = this.state.loginForm[key];\n      return (\n        <Input\n          key={key}\n          elementType={element.elementType}\n          elementConfig={element.elementConfig}\n          value={element.value}\n          valid={element.valid}\n          touched={element.touched}\n          invalid={!element.valid}\n          changed={event => this.handleInput(event, key)}\n        />\n      );\n    });\n\n    let redirect = null;\n    if (this.props.token) {\n      console.log(\"redirect to /about\");\n      redirect = <Redirect to=\"/about\" />;\n    }\n\n    if (this.props.error) {\n    }\n\n    return (\n      <form onSubmit={e => this.handleFormConfirm(e)}>\n        {inputs}\n        <button\n          disabled={!this.state.valid}\n          type=\"submit\"\n          className=\"LogInButton\"\n        >\n          Log in\n        </button>\n        {this.props.token}\n        {redirect}\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuth: (login, password) => dispatch(actions.auth(login, password))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Auth);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\";\n\nclass ChatList extends React.PureComponent {\n  render() {\n    return (\n      <div className={styles[\"chat-list\"]}>\n        <Link className={styles[\"chat-list__chat\"]} to=\"/chat/1\">\n          Chat1\n        </Link>\n        <Link className={styles[\"chat-list__chat\"]} to=\"/chat/2\">\n          Chat2\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default ChatList;\n","export const getReadableSize = size => {\n  const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\n  let newSize = size;\n  for (const item in units) {\n    if (newSize < 1024) {\n      return `${Math.ceil(newSize)} ${units[item]}`;\n    }\n    newSize /= 1024;\n  }\n  return `${Math.ceil(size)} B`;\n};\n\nexport const getTime = () => {\n  let date = new Date();\n  let timeRegex = \"^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])(:[0-5][0-9])?\";\n  return date.toTimeString().match(timeRegex)[0];\n};\n\nexport const sendToServer = (text, file) => {\n  let formData = new FormData();\n  formData.append(\"user\", \"Denis\");\n  formData.append(\"date\", `${getTime()} ${new Date().toDateString()}`);\n  if (file !== null) {\n    formData.append(\"file\", file);\n  }\n  if (text !== null) {\n    formData.append(\"text\", text);\n  }\n\n  return fetch(\"http://127.0.0.1:8082/message\", {\n    method: \"POST\",\n    body: formData\n  })\n    .then(function(response) {\n      return response;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n};\n","const reactionTypesList = [\n  {\n    name: \"alien\",\n    text: \":alien:\"\n  },\n  {\n    name: \"alien-monster\",\n    text: \":space_invader:\"\n  },\n  {\n    name: \"angry-face\",\n    text: \":angry:\"\n  },\n  {\n    name: \"anguished-face\",\n    text: \":anguished:\"\n  },\n  {\n    name: \"anxious-face-with-sweat\",\n    text: \":cold_sweat:\"\n  },\n  {\n    name: \"astonished-face\",\n    text: \":astonished:\"\n  },\n  {\n    name: \"beaming-face-with-smiling-eyes\",\n    text: \":grin:\"\n  },\n  {\n    name: \"cold-face\",\n    text: \":cold_face:\"\n  },\n  {\n    name: \"confounded-face\",\n    text: \":confounded:\"\n  },\n  {\n    name: \"confused-face\",\n    text: \":confused:\"\n  },\n  {\n    name: \"cowboy-hat-face\",\n    text: \":cowboy_hat_face:\"\n  },\n  {\n    name: \"crying-face\",\n    text: \":cry:\"\n  },\n  {\n    name: \"disappointed-face\",\n    text: \":disappointed:\"\n  },\n  {\n    name: \"dizzy-face\",\n    text: \":dizzy_face:\"\n  },\n  {\n    name: \"downcast-face-with-sweat\",\n    text: \":sweat:\"\n  }\n];\n\nexport default reactionTypesList;\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React from \"react\";\nimport styles from \"./styles.module.css\";\n\nimport { getReadableSize } from \"utils\";\n\nimport reactionTypeList from \"../../reactionTypes\";\n\nconst imagePattern = /^image\\.*/;\n\nclass Message extends React.PureComponent {\n  sanitize = string => {\n    const map = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#x27;\",\n      \"`\": \"&grave;\",\n      \"/\": \"&#x2F;\"\n    };\n    const reg = /[&<>\"'`/]/gi;\n    return string.replace(reg, match => map[match]);\n  };\n\n  preventXSSAttack = text => {\n    return this.sanitize(text);\n  };\n\n  handleReaction = text => {\n    let result = text;\n    result = this.preventXSSAttack(result);\n    reactionTypeList.forEach(reaction => {\n      if (text === reaction.text) {\n        result = `<span className=\"${[\n          styles[\"reaction-preview\"],\n          styles[reaction.name]\n        ].join(\" \")}\" />`;\n      }\n      while (result.indexOf(reaction.text) !== -1) {\n        result = result.replace(\n          reaction.text,\n          `<span className=\"${[\n            styles[\"reaction-inline\"],\n            styles[reaction.name]\n          ].join(\" \")}\" />`\n        );\n      }\n    });\n    return { __html: result };\n  };\n\n  render() {\n    return (\n      <div\n        className={\n          this.props.isMy ? styles[\"message--my\"] : styles[\"message--alien\"]\n        }\n      >\n        {this.props.file ? (\n          this.props.file.type.match(imagePattern) ? (\n            <img\n              className={styles[\"image-preview\"]}\n              src={URL.createObjectURL(this.props.file)}\n              alt=\"Image preview\"\n            />\n          ) : (\n            <a href={URL.createObjectURL(this.props.file)}>\n              {this.props.file.name}\n            </a>\n          )\n        ) : (\n          <div\n            className={\n              this.props.isMy ? styles[\"text--my\"] : styles[\"text--alien\"]\n            }\n            dangerouslySetInnerHTML={this.handleReaction(this.props.text)}\n          />\n        )}\n\n        <div\n          className={\n            this.props.isMy ? styles[\"extras--my\"] : styles[\"extras-alien\"]\n          }\n        >\n          <div\n            className={\n              this.props.isMy\n                ? styles[\"send-time--my\"]\n                : styles[\"send-time--alien\"]\n            }\n          >\n            {this.props.time}\n          </div>\n          {this.props.file ? (\n            <div\n              className={\n                this.props.isMy ? styles[\"size--my\"] : styles[\"size--alien\"]\n              }\n            >\n              {getReadableSize(this.props.file.size)}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Message;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport { Message } from \"./Message\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nclass MessageList extends React.PureComponent {\n  scrollToBottom = () => {\n    const messagesContainer = ReactDOM.findDOMNode(this);\n    messagesContainer.scrollTop = messagesContainer.scrollHeight;\n  };\n\n  componentDidMount() {\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n\n  handleDragAndDrop = event => {\n    event.preventDefault();\n    let files = Array.from(event.dataTransfer.files);\n\n    files.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.props.handleFileSelect(file);\n        this.props.onMessage([null, file]);\n      };\n\n      reader.readAsDataURL(file);\n    }, this);\n  };\n\n  render() {\n    return (\n      <div\n        className={styles[\"message-list\"]}\n        onDrop={this.handleDragAndDrop}\n        onDragEnter={this.handleDragAndDrop}\n        onDragOver={this.handleDragAndDrop}\n        onDragLeave={this.handleDragAndDrop}\n      >\n        {this.props.messageList.map((message, idx) => {\n          return (\n            <Message\n              key={idx}\n              text={message.get(\"text\")}\n              file={message.get(\"file\")}\n              isMy={message.get(\"isMy\")}\n              time={message.get(\"time\")}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  messageList: state.messageListReducer.get(\"messageList\")\n});\n\nconst mapDispatchToProps = dispatch => ({\n  handleFileSelect: file =>\n    dispatch({\n      type: actionTypes.SEND_FILE,\n      file\n    })\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MessageList);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nimport ImageFileButton from \"static/Chat/MessageForm/FileButton/paperclip.svg\";\n\nclass FileButton extends React.Component {\n  onFileSelect = event => {\n    event.preventDefault();\n    let files = Array.from(event.target.files);\n\n    files.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.props.handleFileSelect(file);\n        this.props.onMessage([null, file]);\n      };\n\n      reader.readAsDataURL(file);\n    }, this);\n  };\n\n  render() {\n    return (\n      <div className={styles[\"file-button\"]}>\n        <label\n          className={styles[\"file-button__label\"]}\n          htmlFor=\"file-button__input\"\n        >\n          <img\n            className={styles[\"file-button__image\"]}\n            src={ImageFileButton}\n            alt=\"File button\"\n          />\n        </label>\n        <input\n          className={styles[\"file-button__input\"]}\n          id=\"file-button__input\"\n          type=\"file\"\n          onChange={this.onFileSelect}\n          multiple\n        />\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  handleFileSelect: file =>\n    dispatch({\n      type: actionTypes.SEND_FILE,\n      file\n    })\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(FileButton);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nclass LocationButton extends React.Component {\n  sendMyLocation = () => {\n    if (!navigator.geolocation) {\n      alert(\"Geolocation is not supported by your browser!\");\n      return;\n    }\n\n    function success(position) {\n      let text = `My location: (${position.coords.latitude}, ${\n        position.coords.longitude\n      })`;\n      this.props.handleTextSelect(text);\n      this.props.onMessage([text, null]);\n    }\n    function error() {\n      alert(\"Unable to retrieve your location!\");\n    }\n\n    navigator.geolocation.getCurrentPosition(success.bind(this), error);\n  };\n\n  render() {\n    return (\n      <button\n        className={styles[\"location-button\"]}\n        onClick={this.sendMyLocation}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  handleTextSelect: text => dispatch({ type: actionTypes.SEND_TEXT, text })\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(LocationButton);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nclass ReactionButton extends React.Component {\n  sendReaction = () => {\n    this.props.handleSendText(this.props.text);\n    this.props.onMessage([this.props.text, null]);\n  };\n\n  updateText = () => {\n    this.props.handleUpdateText(this.props.text);\n  };\n\n  render() {\n    return (\n      <span\n        className={styles[this.props.name]}\n        onClick={this.updateText}\n        onDoubleClick={this.sendReaction}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  handleSendText: text => dispatch({ type: actionTypes.SEND_TEXT, text }),\n  handleUpdateText: text => dispatch({ type: actionTypes.UPDATE_TEXT, text })\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ReactionButton);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport { FileButton } from \"./FileButton\";\nimport { LocationButton } from \"./LocationButton\";\nimport { ReactionButton } from \"./ReactionButton\";\n\nimport reactionTypeList from \"../reactionTypes\";\n\nclass ExtrasPanel extends React.Component {\n  render() {\n    if (this.props.isExtrasPanelVisible)\n      return (\n        <div className={styles[\"extras-panel\"]}>\n          <div className={styles[\"extras-panel__actions\"]}>\n            <FileButton onMessage={this.props.onMessage} />\n            <LocationButton onMessage={this.props.onMessage} />\n          </div>\n          <div className={styles[\"extras-panel__reactions\"]}>\n            {reactionTypeList.map((reaction, idx) => (\n              <ReactionButton\n                key={`${reaction.name}_${idx}`}\n                name={reaction.name}\n                text={reaction.text}\n                onMessage={this.props.onMessage}\n              />\n            ))}\n          </div>\n        </div>\n      );\n    else return null;\n  }\n}\n\nconst mapStateToProps = state => ({\n  isExtrasPanelVisible: state.messageFormReducer.get(\"isExtrasPanelVisible\")\n});\n\nexport default connect(\n  mapStateToProps,\n  null\n)(ExtrasPanel);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nclass ExtrasButton extends React.PureComponent {\n  render() {\n    return (\n      <button\n        className={styles[\"extras-button\"]}\n        onClick={this.props.handleOnClick}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  handleOnClick: () => dispatch({ type: actionTypes.TOGGLE_EXTRAS })\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ExtrasButton);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nclass TextMessageForm extends React.PureComponent {\n  onChange = event => {\n    event.preventDefault();\n    this.props.handleRewriteText(event.target.value);\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    if (this.props.text.length > 0) {\n      this.props.handleSendText(this.props.text);\n      this.props.onMessage([this.props.text, null]);\n    }\n  };\n\n  render() {\n    return (\n      <form className={styles[\"text-message-form\"]} onSubmit={this.onSubmit}>\n        <input\n          className={styles[\"text-message-form__input\"]}\n          value={this.props.text}\n          type=\"text\"\n          placeholder=\"Enter your message\"\n          onChange={this.onChange}\n        />\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  text: state.messageFormReducer.get(\"text\")\n});\n\nconst mapDispatchToProps = dispatch => ({\n  handleRewriteText: text =>\n    dispatch({\n      type: actionTypes.REWRITE_TEXT,\n      text\n    }),\n  handleSendText: text =>\n    dispatch({\n      type: actionTypes.SEND_TEXT,\n      text\n    })\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TextMessageForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./styles.module.css\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nclass SendButton extends React.PureComponent {\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.handleSubmit(this.props.text);\n    this.props.onMessage([this.props.text, null]);\n  };\n\n  render() {\n    return (\n      <button\n        className={\n          this.props.text.length > 0 ? styles[\"send-button\"] : styles[\"hidden\"]\n        }\n        onClick={this.onSubmit}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  text: state.messageFormReducer.get(\"text\")\n});\n\nconst mapDispatchToProps = dispatch => ({\n  handleSubmit: text =>\n    dispatch({\n      type: actionTypes.SEND_TEXT,\n      text\n    })\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SendButton);\n","import React from \"react\";\nimport styles from \"./styles.module.css\";\n\nimport { ExtrasButton } from \"./ExtrasButton\";\nimport { TextMessageForm } from \"./TextMessageForm\";\nimport { SendButton } from \"./SendButton\";\n\nclass MessageForm extends React.PureComponent {\n  render() {\n    return (\n      <div className={styles[\"message-form\"]}>\n        <ExtrasButton />\n        <TextMessageForm onMessage={this.props.onMessage} />\n        <SendButton onMessage={this.props.onMessage} />\n      </div>\n    );\n  }\n}\n\nexport default MessageForm;\n","export default self => {\n  const ports = [];\n  self.addEventListener(\"connect\", event => {\n    const port = event.source;\n    ports.push(port);\n    port.addEventListener(\"message\", event => {\n      if (event.data === \"disconnect\") {\n        ports.splice(ports.indexOf(event.target), 1);\n      } else {\n        ports\n          .filter(port => port !== event.target)\n          .forEach(port => {\n            port.postMessage(event.data);\n          });\n      }\n    });\n    port.start();\n  });\n};\n","import React from \"react\";\nimport styles from \"./styles.module.css\";\n\nimport { MessageList } from \"./MessageList\";\nimport { ExtrasPanel } from \"./ExtrasPanel\";\nimport { MessageForm } from \"./MessageForm\";\n\nimport { sendToServer } from \"utils\";\nimport workerCode from \"./sharedWorker\";\n\nclass Chat extends React.PureComponent {\n  state = {\n    worker: this.getSharedWorker()\n  };\n\n  render() {\n    return (\n      <div className={styles[\"chat\"]}>\n        <MessageList onMessage={this.onMessage} />\n        <ExtrasPanel onMessage={this.onMessage} />\n        <MessageForm onMessage={this.onMessage} />\n      </div>\n    );\n  }\n\n  onMessage = message => {\n    this.state.worker.then(worker => {\n      worker.port.postMessage(message);\n    });\n  };\n\n  getSharedWorker() {\n    const workerFile = new Blob([`(${workerCode})(self)`], {\n      type: \"text/javascript\"\n    });\n    return new Promise((res, rej) => {\n      const reader = new FileReader();\n      reader.addEventListener(\"loadend\", event => {\n        const worker = new SharedWorker(event.target.result);\n        worker.port.addEventListener(\"message\", this.onWorkerMessage);\n        worker.port.start();\n        window.addEventListener(\"beforeunload\", () => {\n          worker.port.postMessage(\"disconnect\");\n        });\n        res(worker);\n      });\n      reader.addEventListener(\"error\", rej);\n      reader.readAsDataURL(workerFile);\n    });\n  }\n\n  onWorkerMessage = event => {\n    sendToServer(event.data[0], event.data[1]).then(response => {\n      if (response) {\n        console.log(\"Delivered!\");\n      } else {\n        console.log(\"Not delivered!\");\n      }\n    });\n  };\n}\n\nexport default Chat;\n","import firebase from \"firebase\";\n\nlet config = {\n  messagingSenderId: \"225679507199\"\n};\nfirebase.initializeApp(config);\n\nconst messaging = firebase.messaging();\n\nexport const askForPermissioToReceiveNotifications = async () => {\n  try {\n    await messaging.requestPermission();\n    const token = await messaging.getToken();\n    console.log(\"Your token:\", token);\n    return token;\n  } catch (error) {\n    console.error(error);\n  }\n};\n","import React, { PureComponent, Fragment } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport { SentryErrorLogger } from \"components/SentryErrorLogger\";\nimport { Header } from \"components/Header\";\nimport Auth from \"components/Auth/Auth\";\nimport { ChatList } from \"components/ChatList\";\nimport { Chat } from \"components/Chat\";\n\nimport { askForPermissioToReceiveNotifications } from \"push-notification\";\n\nclass App extends PureComponent {\n  componentDidMount() {\n    askForPermissioToReceiveNotifications();\n    console.info(`%c Welcome, developer!`, `font-size: 20px; color: green`);\n  }\n\n  render() {\n    return (\n      <Router>\n        <Fragment>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\" component={ChatList} />\n            <Route path=\"/chat/:id\" component={Chat} />\n            <Route path=\"/login\" component={Auth} />\n          </Switch>\n\n          <SentryErrorLogger />\n        </Fragment>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { Map } from \"immutable\";\n\nimport * as actionTypes from \"../actionTypes/actionTypes\";\n\nconst initialState = Map({\n  text: \"\",\n  file: \"\",\n  isExtrasPanelVisible: false\n});\n\nconst reducer = (state = initialState, action) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case actionTypes.SEND_TEXT:\n      return initialState;\n    case actionTypes.SEND_FILE:\n      return initialState.set(\"text\", state.get(\"text\"));\n    case actionTypes.UPDATE_TEXT:\n      return Map({\n        text: state.get(\"text\") + action.text,\n        file: state.get(\"file\"),\n        isExtrasPanelVisible: state.get(\"isExtrasPanelVisible\")\n      });\n    case actionTypes.REWRITE_TEXT:\n      return Map({\n        text: action.text,\n        file: state.get(\"file\"),\n        isExtrasPanelVisible: state.get(\"isExtrasPanelVisible\")\n      });\n    case actionTypes.TOGGLE_EXTRAS:\n      return Map({\n        text: state.get(\"text\"),\n        file: state.get(\"file\"),\n        isExtrasPanelVisible: !state.get(\"isExtrasPanelVisible\")\n      });\n  }\n\n  return state;\n};\n\nexport default reducer;\n","import { Map, List } from \"immutable\";\n\nimport * as actionTypes from \"../actionTypes/actionTypes\";\n// import { updateObject } from \"../utility\";\nimport { getTime } from \"utils\";\n\nconst initialState = Map({\n  i: 0,\n  messageList: List([\n    Map({\n      id: 0,\n      text: \"Hello!\",\n      file: \"\",\n      isMy: false,\n      time: getTime()\n    })\n  ])\n});\n\nconst reducer = (state = initialState, action) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case actionTypes.SEND_TEXT:\n      // updateObject(\n      //   state,\n      //   Map({\n      //     i: state.get(\"i\") + 1,\n      //     messageList: state.get(\"messageList\").push({\n      //       id: state.get(\"i\"),\n      //       text: action.text,\n      //       file: \"\",\n      //       isMy: true,\n      //       time: getTime()\n      //     })\n      //   })\n      // );\n      return Map({\n        i: state.get(\"i\") + 1,\n        messageList: state.get(\"messageList\").push(\n          Map({\n            id: state.get(\"i\"),\n            text: action.text,\n            file: \"\",\n            isMy: true,\n            time: getTime()\n          })\n        )\n      });\n\n    case actionTypes.SEND_FILE:\n      // updateObject(\n      //   state,\n      //   Map({\n      //     i: state.get(\"i\") + 1,\n      //     messageList: state.get(\"messageList\").push({\n      //       id: state.get(\"i\"),\n      //       text: \"\",\n      //       file: action.file,\n      //       isMy: true,\n      //       time: getTime()\n      //     })\n      //   })\n      // );\n      return Map({\n        i: state.get(\"i\") + 1,\n        messageList: state.get(\"messageList\").push(\n          Map({\n            id: state.get(\"i\"),\n            text: \"\",\n            file: action.file,\n            isMy: true,\n            time: getTime()\n          })\n        )\n      });\n  }\n\n  return state;\n};\n\nexport default reducer;\n","import { fromJS } from \"immutable\";\n\nconst initialState = fromJS({\n  user: {\n    name: \"\",\n    isAuthorized: false\n  }\n});\n\nconst reducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default reducer;\n","import { fromJS } from \"immutable\";\n\nconst initialState = fromJS({\n  chatList: []\n});\n\nconst reducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default reducer;\n","import { fromJS } from \"immutable\";\n\nimport * as actionTypes from \"store/actionTypes/actionTypes\";\n\nconst initialState = fromJS({\n  token: null,\n  error: null,\n  loading: false\n});\n\nconst authStart = (state, action) => {\n  return state.set(\"loading\", true).set(\"error\", null);\n};\n\nconst authSuccess = (state, action) => {\n  return state\n    .set(\"token\", action.token)\n    .set(\"loading\", false)\n    .set(\"error\", null);\n};\n\nconst authFail = (state, action) => {\n  return state.set(\"loading\", false).set(\"error\", action.error);\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAILED:\n      return authFail(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\n\n// import * as serviceWorker from \"./unused/serviceWorker\";\n\nimport App from \"./App\";\nimport messageFormReducer from \"./store/reducers/messageForm\";\nimport messageListReducer from \"./store/reducers/messageList\";\nimport userReducer from \"./store/reducers/user\";\nimport chatListReducer from \"./store/reducers/chatList\";\n\nimport authReducer from \"./store/reducers/auth\";\n\nconst rootReducer = combineReducers({\n  messageFormReducer,\n  messageListReducer,\n  userReducer,\n  chatListReducer,\n  auth: authReducer\n});\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n\n// serviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"styles_message__1Pq_l\",\"message--my\":\"styles_message--my__3AgV_ styles_message__1Pq_l\",\"appear--my\":\"styles_appear--my__3MvII\",\"message--alien\":\"styles_message--alien__vsVLq styles_message__1Pq_l\",\"appear--alien\":\"styles_appear--alien__-FoDr\",\"image-preview\":\"styles_image-preview__3eDYB\",\"text--my\":\"styles_text--my__qt7ds\",\"text--alien\":\"styles_text--alien__21bV6\",\"extras\":\"styles_extras__Rz3Za\",\"extras--my\":\"styles_extras--my__1fY84 styles_extras__Rz3Za\",\"extras--alien\":\"styles_extras--alien__16M2X styles_extras__Rz3Za\",\"size--my\":\"styles_size--my__tYmdt\",\"size--alien\":\"styles_size--alien__1FnH_\",\"send-time--my\":\"styles_send-time--my__3YBUf\",\"send-time--alien\":\"styles_send-time--alien__uY_dg\",\"reaction-preview\":\"styles_reaction-preview__3tiWU\",\"reaction-inline\":\"styles_reaction-inline__3T1L_\",\"alien\":\"styles_alien__2XANt styles_alien__1Wbj1\",\"alien-monster\":\"styles_alien-monster__2bHjS styles_alien-monster__PJuCG\",\"angry-face\":\"styles_angry-face__3Jf64 styles_angry-face__fnXos\",\"anguished-face\":\"styles_anguished-face__1EHCJ styles_anguished-face__M_Z3n\",\"anxious-face-with-sweat\":\"styles_anxious-face-with-sweat__Ikxjc styles_anxious-face-with-sweat__1t4Xv\",\"astonished-face\":\"styles_astonished-face__191Lj styles_astonished-face__2MlPt\",\"beaming-face-with-smiling-eyes\":\"styles_beaming-face-with-smiling-eyes__153Mq styles_beaming-face-with-smiling-eyes__3-k8Y\",\"cold-face\":\"styles_cold-face__23QoB styles_cold-face__16Qa3\",\"confounded-face\":\"styles_confounded-face__1LrYE styles_confounded-face__33qEp\",\"confused-face\":\"styles_confused-face__2Itxy styles_confused-face__3XLgX\",\"cowboy-hat-face\":\"styles_cowboy-hat-face__NyP2l styles_cowboy-hat-face__3ORE4\",\"crying-face\":\"styles_crying-face__3kg9U styles_crying-face__5yHd_\",\"disappointed-face\":\"styles_disappointed-face__3Dpdg styles_disappointed-face__3-qVQ\",\"dizzy-face\":\"styles_dizzy-face__1rgvv styles_dizzy-face__KntLE\",\"downcast-face-with-sweat\":\"styles_downcast-face-with-sweat__NHVx7 styles_downcast-face-with-sweat__q0YNT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"file-button\":\"styles_file-button__3ZWKs\",\"file-button__label\":\"styles_file-button__label__a9N5V\",\"file-button__input\":\"styles_file-button__input__1Jg7E\",\"file-button__image\":\"styles_file-button__image__3HjSS\",\"file-button_image\":\"styles_file-button_image__T0Dds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__2cxmk\",\"home-button\":\"styles_home-button__3Mjvv\",\"login-button\":\"styles_login-button__ZXuq4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat-list\":\"styles_chat-list__2gN1B\",\"chat-list__chat\":\"styles_chat-list__chat__3tK7Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"extras-panel\":\"styles_extras-panel__3I_Nq\",\"extras-panel__actions\":\"styles_extras-panel__actions__V2nYW\",\"extras-panel__reactions\":\"styles_extras-panel__reactions__1oMna\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text-message-form\":\"styles_text-message-form__xxQcO\",\"text-message-form__input\":\"styles_text-message-form__input__1ssQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"send-button\":\"styles_send-button__28gIQ\",\"hidden\":\"styles_hidden__3MmKS styles_send-button__28gIQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"styles_chat__OWNBv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message-list\":\"styles_message-list__2ZJw-\"};","module.exports = __webpack_public_path__ + \"static/media/paperclip.496565f1.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"location-button\":\"styles_location-button__1Tc02\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reaction-button\":\"styles_reaction-button__2aIEj\",\"alien\":\"styles_alien__29TlE styles_reaction-button__2aIEj styles_alien__1Wbj1\",\"alien-monster\":\"styles_alien-monster__2OIgO styles_reaction-button__2aIEj styles_alien-monster__PJuCG\",\"angry-face\":\"styles_angry-face__3Zf0m styles_reaction-button__2aIEj styles_angry-face__fnXos\",\"anguished-face\":\"styles_anguished-face__3wVZQ styles_reaction-button__2aIEj styles_anguished-face__M_Z3n\",\"anxious-face-with-sweat\":\"styles_anxious-face-with-sweat__wFMzQ styles_reaction-button__2aIEj styles_anxious-face-with-sweat__1t4Xv\",\"astonished-face\":\"styles_astonished-face__2fzY0 styles_reaction-button__2aIEj styles_astonished-face__2MlPt\",\"beaming-face-with-smiling-eyes\":\"styles_beaming-face-with-smiling-eyes__1hNTU styles_reaction-button__2aIEj styles_beaming-face-with-smiling-eyes__3-k8Y\",\"cold-face\":\"styles_cold-face__2bQqv styles_reaction-button__2aIEj styles_cold-face__16Qa3\",\"confounded-face\":\"styles_confounded-face__3EtIj styles_reaction-button__2aIEj styles_confounded-face__33qEp\",\"confused-face\":\"styles_confused-face__dsWwl styles_reaction-button__2aIEj styles_confused-face__3XLgX\",\"cowboy-hat-face\":\"styles_cowboy-hat-face__2fYaZ styles_reaction-button__2aIEj styles_cowboy-hat-face__3ORE4\",\"crying-face\":\"styles_crying-face__1DCnV styles_reaction-button__2aIEj styles_crying-face__5yHd_\",\"disappointed-face\":\"styles_disappointed-face__2o45J styles_reaction-button__2aIEj styles_disappointed-face__3-qVQ\",\"dizzy-face\":\"styles_dizzy-face__3ESlj styles_reaction-button__2aIEj styles_dizzy-face__KntLE\",\"downcast-face-with-sweat\":\"styles_downcast-face-with-sweat__2XtiW styles_reaction-button__2aIEj styles_downcast-face-with-sweat__q0YNT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message-form\":\"styles_message-form__2e3iK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"extras-button\":\"styles_extras-button__1vm2E\",\"pulse\":\"styles_pulse__809UB\"};"],"sourceRoot":""}